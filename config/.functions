#! /bin/bash


# Simple bash functions for use in the terminal or other scripts


current_git_branch() {
    # Get the current git branch
    git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'
}

url() {
    case $(uname -s) in
    Darwin)   open='open';;
    MINGW*)   open='start';;
    MSYS*)    open='start';;
    CYGWIN*)  open='cygstart';;
    *)  # Try to detect WSL (Windows Subsystem for Linux)
        if uname -r | grep -q -i microsoft; then
            open='powershell.exe -NoProfile Start'
        else
            open='xdg-open'
        fi;;
    esac

    URL=$1

    if [[ $URL != https* ]]; then
        URL="https://$URL"
    fi

    ${BROWSER:-$open} "$URL"
}
